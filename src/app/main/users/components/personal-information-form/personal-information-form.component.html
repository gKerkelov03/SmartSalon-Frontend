@if (user) {
    <form [formGroup]="personalInformationForm">
        <mat-form-field [appearance]="canEdit ? 'fill' : 'outline'">
            <mat-label>First name</mat-label>
            <input
                matInput
                formControlName="firstName"
                readonly="{{ !canEdit }}"
            />
        </mat-form-field>
        <app-error-message [control]="firstNameControl"> </app-error-message>

        <mat-form-field [appearance]="canEdit ? 'fill' : 'outline'">
            <mat-label>Last name</mat-label>
            <input
                matInput
                formControlName="lastName"
                readonly="{{ !canEdit }}"
            />
        </mat-form-field>
        <app-error-message [control]="lastNameControl"> </app-error-message>

        <mat-form-field [appearance]="canEdit ? 'fill' : 'outline'">
            <mat-label>Phone number</mat-label>
            <input
                matInput
                formControlName="phoneNumber"
                readonly="{{ !canEdit }}"
            />
        </mat-form-field>
        <app-error-message [control]="phoneNumberControl" />

        @if (user && user.roles.includes(Role.Worker)) {
            <mat-form-field [appearance]="canEdit ? 'fill' : 'outline'">
                <mat-label>Nickname</mat-label>
                <input
                    matInput
                    formControlName="nickname"
                    readonly="{{ !canEdit }}"
                />
            </mat-form-field>
            <app-error-message [control]="nicknameControl" />
        }

        @if (canEdit) {
            <div class="actions">
                <button mat-raised-button (click)="cancel()">Cancel</button>
                <button
                    mat-raised-button
                    color="primary"
                    (click)="saveClicked()"
                    [disabled]="!personalInformationForm.valid"
                >
                    Save
                </button>
            </div>
        }
    </form>
}
